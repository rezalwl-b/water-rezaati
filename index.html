<!doctype html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ÛŒØ§Ø¯Ø¢ÙˆØ± Û¸ Ù„ÛŒÙˆØ§Ù† Ø¢Ø¨ â€” Ù†ÙˆØ´ÛŒØ¯Ù† Ø¢Ø¨</title>
  <style>
    :root{
      --bg:#E9F7FF;
      --card:#ffffff;
      --accent:#2aa7ff;
      --glass-border:#c6e7ff;
      --water:#7fd3ff;
      --happy-green:#6cc06c;
      --muted:#6b6b6b;
      font-family: 'Vazirmatn', system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
    }
    html,body{height:100%;margin:0;background:linear-gradient(180deg,var(--bg),#f8ffff);}
    .wrap{min-height:100%;display:flex;align-items:center;justify-content:center;padding:2rem}

    .card{width:100%;max-width:980px;background:var(--card);border-radius:20px;box-shadow:0 10px 30px rgba(60,120,150,0.12);padding:28px;display:grid;grid-template-columns:1fr 360px;gap:20px;align-items:center}

    h1{margin:0 0 6px 0;font-size:20px;text-align:right}
    p.lead{margin:0 0 18px 0;color:var(--muted);text-align:right}

    /* glasses area */
    .glasses{display:grid;grid-template-columns:repeat(4,1fr);gap:12px}
    .glass{background:linear-gradient(180deg,rgba(255,255,255,0.8),rgba(255,255,255,0.6));border-radius:14px;padding:10px;border:2px solid var(--glass-border);display:flex;flex-direction:column;align-items:center;justify-content:flex-end;cursor:pointer;transition:transform .18s ease,box-shadow .18s}
    .glass:active{transform:scale(.98)}
    .glass .cup{width:100%;height:120px;border-radius:10px;position:relative;overflow:hidden;background:rgba(255,255,255,0.5);display:flex;align-items:flex-end;justify-content:center}
    .water{position:absolute;left:0;right:0;bottom:0;height:0%;background:linear-gradient(180deg,var(--water),#56b8f0);transition:height .6s cubic-bezier(.2,.9,.3,1);display:flex;align-items:flex-end;justify-content:center}
    .water.bubbly::after{content:'';position:absolute;left:12px;top:8px;width:10px;height:10px;border-radius:50%;background:rgba(255,255,255,0.6);box-shadow:18px 8px rgba(255,255,255,0.2),36px 4px rgba(255,255,255,0.12);opacity:.9}
    .label{margin-top:10px;font-weight:600;color:#0b6aa6}

    .glass.filled{box-shadow:0 8px 18px rgba(34,149,214,0.12);border-color:rgba(42,167,255,0.6)}

    /* sidebar with crocodile */
    .side{display:flex;flex-direction:column;gap:18px;align-items:center}
    .croc-wrap{width:100%;max-width:320px;background:linear-gradient(180deg,#eafff1,#f6fff6);border-radius:16px;padding:18px;border:1px solid rgba(120,210,140,0.18);display:flex;flex-direction:column;align-items:center;gap:12px}
    .meter{width:100%;height:12px;background:linear-gradient(90deg,#e6f7ff,#e6fff6);border-radius:10px;overflow:hidden}
    .meter > i{display:block;height:100%;width:0%;background:linear-gradient(90deg,var(--accent),#7fe1a3);transition:width .6s cubic-bezier(.2,.9,.3,1)}
    .croc-svg{width:240px;height:160px}

    /* crocodile happy animation */
    .croc{transition:transform .35s ease}
    .croc.happy{transform:translateY(-6px) rotate(-4deg) scale(1.02)}
    .croc .eye{transition:transform .28s ease}
    .croc.happy .eye{transform:scale(1.15)}
    .croc .mouth{transition:d .28s ease}

    .controls{display:flex;gap:8px}
    button{appearance:none;border:0;padding:10px 12px;border-radius:10px;background:var(--accent);color:white;font-weight:700;cursor:pointer}
    button.ghost{background:transparent;color:var(--muted);border:1px solid #dfeffb}

    footer.small{font-size:12px;color:var(--muted);opacity:.9;text-align:center;margin-top:6px}

    @media (max-width:900px){.card{grid-template-columns:1fr;}.glasses{grid-template-columns:repeat(4,1fr)}.side{order:-1}}
    @media (max-width:520px){.glasses{grid-template-columns:repeat(2,1fr)}.croc-svg{width:200px;height:120px}}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card" role="application" aria-label="ÛŒØ§Ø¯Ø¢ÙˆØ± Û¸ Ù„ÛŒÙˆØ§Ù† Ø¢Ø¨">
      <div>
        <h1>ÛŒØ§Ø¯Ø¢ÙˆØ± Ù†ÙˆØ´ÛŒØ¯Ù† Ø±ÙˆØ²ÛŒ Û¸ Ù„ÛŒÙˆØ§Ù† Ø¢Ø¨</h1>
        <p class="lead">Ù‡Ø± Ù„ÛŒÙˆØ§Ù† Ø±Ø§ Ú©Ù‡ Ù†ÙˆØ´ÛŒØ¯ÛŒ Ø¨Ø²Ù† Ø±ÙˆÛŒØ´ ØªØ§ Ù¾Ø± Ø´ÙˆØ¯ â€” ØªÙ…Ø³Ø§Ø­Ù Ù…Ø§ Ù‡Ù… Ø®ÙˆØ´Ø­Ø§Ù„ Ù…ÛŒâ€ŒØ´ÙˆØ¯!</p>

        <div class="glasses" id="glasses">
          <!-- 8 glasses generated by JS -->
        </div>

        <div style="margin-top:16px;display:flex;gap:10px;justify-content:flex-end;align-items:center">
          <div style="text-align:right"><div style="font-size:13px;color:var(--muted)">Ù†ÙˆØ´ÛŒØ¯Ù‡ Ø´Ø¯Ù‡</div><div id="count" style="font-weight:800;font-size:18px">0 / 8</div></div>
          <div style="flex:1"></div>
          <div class="controls">
            <button id="reset">ØªÙ†Ø¸ÛŒÙ… Ù…Ø¬Ø¯Ø¯</button>
            <button class="ghost" id="share" title="Ø§Ø´ØªØ±Ø§Ú©â€ŒÚ¯Ø°Ø§Ø±ÛŒ">Ø§Ø´ØªØ±Ø§Ú©</button>
          </div>
        </div>
      </div>

      <aside class="side">
        <div class="croc-wrap">
          <svg class="croc-svg" viewBox="0 0 400 220" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="ØªÙ…Ø³Ø§Ø­">
            <!-- A friendly cartoon crocodile: eyes, snout, mouth -->
            <g id="croc" class="croc">
              <defs>
                <filter id="s" x="-20%" y="-20%" width="140%" height="140%">
                  <feDropShadow dx="0" dy="6" stdDeviation="8" flood-color="#0a3" flood-opacity="0.12"/>
                </filter>
              </defs>

              <!-- body -->
              <ellipse cx="200" cy="140" rx="160" ry="46" fill="#9fdc9f" stroke="#5bb05b" stroke-width="4" filter="url(#s)"/>

              <!-- head -->
              <path d="M60 110 C40 90, 40 50, 110 40 C170 30, 240 38, 300 58 C320 68, 340 88, 320 106 C300 126, 260 140, 200 142 C140 144,100 132,60 110 Z" fill="#8ad88a" stroke="#5bb05b" stroke-width="4"/>

              <!-- eyes -->
              <g transform="translate(140,58)">
                <ellipse class="eye" cx="0" cy="-4" rx="18" ry="12" fill="#fff" stroke="#3b8c3b" stroke-width="3"/>
                <circle cx="-2" cy="-4" r="5" fill="#123"/>
              </g>
              <g transform="translate(240,70)">
                <ellipse class="eye" cx="0" cy="-4" rx="18" ry="12" fill="#fff" stroke="#3b8c3b" stroke-width="3"/>
                <circle cx="2" cy="-4" r="5" fill="#123"/>
              </g>

              <!-- nostrils -->
              <circle cx="180" cy="84" r="4" fill="#246" opacity="0.4"/>
              <circle cx="220" cy="86" r="4" fill="#246" opacity="0.4"/>

              <!-- mouth (two states: neutral and smile) -->
              <path id="mouth" class="mouth" d="M120 120 Q200 138 280 126" fill="transparent" stroke="#2a6d2a" stroke-width="6" stroke-linecap="round"/>

              <!-- tongue (appears when happy) -->
              <path id="tongue" d="M200 126 C210 140, 230 140, 240 126" fill="#ff9fb2" opacity="0"/>

              <!-- cheeks (blush when happy) -->
              <circle id="cheekL" cx="130" cy="112" r="8" fill="#ffd7d7" opacity="0"/>
              <circle id="cheekR" cx="270" cy="114" r="8" fill="#ffd7d7" opacity="0"/>
            </g>
          </svg>

          <div style="width:100%;display:flex;justify-content:space-between;align-items:center">
            <div style="text-align:right">
              <div style="font-weight:800">ØªÙ…Ø³Ø§Ø­Ù¾Ø±Ø¢Ø¨</div>
              <div style="font-size:13px;color:var(--muted)">Ø¨Ø§ Ù‡Ø± Ú©Ù„ÛŒÚ© Ø®ÙˆØ´Ø­Ø§Ù„ Ù…ÛŒâ€ŒØ´ÙˆØ¯</div>
            </div>
            <div style="width:110px">
              <div class="meter" aria-hidden="true"><i id="meterBar" style="width:0%"></i></div>
            </div>
          </div>
        </div>

        <div style="text-align:center">
          <button id="randomDrink">Ø¨Ø²Ù† Ø³Ø±ÛŒØ¹ Û± Ù„ÛŒÙˆØ§Ù†</button>
          <div class="small" style="margin-top:8px;color:var(--muted)">Ø¯Ú©Ù…Ù‡â€ŒÛŒ Ø§Ø´ØªØ±Ø§Ú© Ø¨Ø±Ø§ÛŒ Ø§Ø´ØªØ±Ø§Ú©â€ŒÚ¯Ø°Ø§Ø±ÛŒ Ù¾ÛŒØ´â€ŒÙØ±Ø¶ Ù…Ø±ÙˆØ±Ú¯Ø± Ø§Ø³Øª</div>
        </div>
      </aside>
    </div>
  </div>

  <script>
    // Generate 8 glasses
    const glassesEl = document.getElementById('glasses');
    const countEl = document.getElementById('count');
    const meterBar = document.getElementById('meterBar');
    const croc = document.getElementById('croc');
    const mouth = document.getElementById('mouth');
    const tongue = document.getElementById('tongue');
    const cheekL = document.getElementById('cheekL');
    const cheekR = document.getElementById('cheekR');

    let state = Array(8).fill(false);

    function makeGlass(i){
      const g = document.createElement('button');
      g.className = 'glass';
      g.setAttribute('aria-pressed','false');
      g.setAttribute('aria-label', `Ù„ÛŒÙˆØ§Ù† ${i+1}`);
      g.innerHTML = `
        <div class="cup" aria-hidden="true">
          <div class="water" id="water-${i}"></div>
        </div>
        <div class="label">Ù„ÛŒÙˆØ§Ù† ${i+1}</div>
      `;

      g.addEventListener('click',()=>toggleGlass(i,g));
      return g;
    }

    function toggleGlass(i,el){
      state[i] = !state[i];
      const water = document.getElementById(`water-${i}`);
      if(state[i]){
        el.classList.add('filled');
        el.setAttribute('aria-pressed','true');
        water.style.height = '85%';
        water.classList.add('bubbly');
      } else {
        el.classList.remove('filled');
        el.setAttribute('aria-pressed','false');
        water.style.height = '0%';
        water.classList.remove('bubbly');
      }
      updateUI();
      triggerCrocHappy();
    }

    function updateUI(){
      const done = state.filter(Boolean).length;
      countEl.textContent = `${done} / 8`;
      const pct = Math.round((done/8)*100);
      meterBar.style.width = pct + '%';
    }

    function triggerCrocHappy(){
      // eat the animation: happy for 900ms
      croc.classList.add('happy');
      // mouth becomes curved smile
      mouth.setAttribute('d','M120 120 Q200 158 280 126');
      tongue.setAttribute('opacity','1');
      cheekL.setAttribute('opacity','0.9');
      cheekR.setAttribute('opacity','0.9');

      setTimeout(()=>{
        croc.classList.remove('happy');
        mouth.setAttribute('d','M120 120 Q200 138 280 126');
        tongue.setAttribute('opacity','0');
        cheekL.setAttribute('opacity','0');
        cheekR.setAttribute('opacity','0');
      },900);
    }

    // populate
    for(let i=0;i<8;i++){
      const g = makeGlass(i);
      glassesEl.appendChild(g);
    }

    // random quick drink
    document.getElementById('randomDrink').addEventListener('click',()=>{
      // find first unchecked
      const idx = state.indexOf(false);
      if(idx>=0){
        const btn = glassesEl.children[idx];
        btn.click();
      } else {
        // all done -> reset and animate
        flashAll();
      }
    });

    document.getElementById('reset').addEventListener('click',()=>{
      state = state.map(()=>false);
      for(let i=0;i<8;i++){
        const water = document.getElementById(`water-${i}`);
        water.style.height = '0%';
        glassesEl.children[i].classList.remove('filled');
        glassesEl.children[i].setAttribute('aria-pressed','false');
      }
      updateUI();
    });

    document.getElementById('share').addEventListener('click',async ()=>{
      try{
        await navigator.share?.({title:'ÛŒØ§Ø¯Ø¢ÙˆØ± Ù†ÙˆØ´ÛŒØ¯Ù† Ø¢Ø¨',text:'Ù…Ù† Ø¯Ø§Ø±Ù… Ø±ÙˆØ²ÛŒ Û¸ Ù„ÛŒÙˆØ§Ù† Ø¢Ø¨ Ù…ÛŒâ€ŒØ®ÙˆØ±Ù…! ØªÙˆ Ù‡Ù… Ø§Ù…ØªØ­Ø§Ù† Ú©Ù† ğŸ™‚',url:location.href});
      }catch(e){
        alert('Ø§Ù…Ú©Ø§Ù† Ø§Ø´ØªØ±Ø§Ú©â€ŒÚ¯Ø°Ø§Ø±ÛŒ Ø®ÙˆØ¯Ú©Ø§Ø± Ù…ÙˆØ¬ÙˆØ¯ Ù†ÛŒØ³ØªØ› Ù„ÛŒÙ†Ú© ØµÙØ­Ù‡ Ø±Ø§ Ú©Ù¾ÛŒ Ú©Ù†ÛŒØ¯.');
      }
    });

    function flashAll(){
      // small celebration when finishing
      croc.classList.add('happy');
      mouth.setAttribute('d','M120 120 Q200 186 280 126');
      tongue.setAttribute('opacity','1');
      cheekL.setAttribute('opacity','0.9');
      cheekR.setAttribute('opacity','0.9');
      // animate all waters full then reset
      for(let i=0;i<8;i++){
        const water = document.getElementById(`water-${i}`);
        water.style.height = '85%';
        glassesEl.children[i].classList.add('filled');
        state[i] = true;
      }
      updateUI();
      setTimeout(()=>{
        // keep happy state for a bit
        croc.classList.remove('happy');
        mouth.setAttribute('d','M120 120 Q200 138 280 126');
        tongue.setAttribute('opacity','0');
        cheekL.setAttribute('opacity','0');
        cheekR.setAttribute('opacity','0');
      },1200);
    }

    // keyboard shortcut: press numbers 1-8 to toggle glasses
    window.addEventListener('keydown',e=>{
      if(e.keyCode>=49 && e.keyCode<=56){
        const idx = e.keyCode - 49;
        glassesEl.children[idx].click();
      }
    });

    // initial UI
    updateUI();
  </script>
</body>
</html>
